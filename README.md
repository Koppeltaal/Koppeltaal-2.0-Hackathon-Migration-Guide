# MIG-KT-001 - FHIR Resource Mapping View

### Beschrijving <a href="#beschrijving" id="beschrijving"></a>

Overzicht en tevens mapping tussen Koppeltaal 1.3.x en 2.0.

**OPMERKINGEN**:

* Deze mapping is gemaakt voor een eventuele migratie traject.
* Niet alle resources (gegevens objecten) uit Koppeltaal 1.3.x worden in Koppeltaal 2.0 gebruikt. Bv: CommunicationRequest wordt nu niet gebruikt in Koppeltaal 2.0.
* In Koppeltaal 1.3.x wordt er gebruik gemaakt van een uitwisselingsmethode '_**FHIR op basis van messages**_'. Hierin wordt bij elk bericht een MessageHeader meegestuurd die verteld wat voor soort interactie het bericht uit bestaat of dat er op gereageerd moet worden, en voor wie het bericht bedoelt is. De referentie(s) die het onderwerp van de interacties zijn, evenals andere informatie met betrekking tot deze interactie, worden typisch verzonden in een bundel waarin de MessageHeader resource-instantie de eerste resource in de bundel is.
* In Koppeltaal 2.0 wordt er gebruik gemaakt van de uitwisselingsmethode '_**FHIR op basis van resources**_'. Hier wordt alleen gebruik gemaakt van voor gedefinieerde FHIR resources en HTTP interacties, zoals beschreven in de [FHIR RESTful API](http://hl7.org/fhir/http.html). Deze zijn in de basis generiek en worden met behulp van profielen uitgebreid en specifieker gemaakt voor een specifieke toepassing, zoals Koppeltaal 2.0.
* De originele FHIR DSTU1 resources, zoals Patient, Practitioner, etc. kunnen bijna alle elementen 1 op 1 gemapped worden naar FHIR R4. Bij de FHIR R4 resources zijn er meer elementen erbij gekomen.
* Bij de Other resources uit DSTU1 moet per element gekeken worden, hoe en of dit gemapped kan worden op een element uit FHIR R4.
* In Koppeltaal 1.3.x wordt er gebruik gemaakt van het CarePlan dat de intentie beschrijft van hoe één of meer behandelaars voornemens zijn zorg te verlenen aan een patiënt gedurende een bepaalde periode. Hierbij wordt een lijst van activiteiten opgesteld die onderdeel zijn van dit plan.
* In Koppeltaal 2.0 wordt er _**geen**_ opgestelde lijst van activiteiten uitgewisseld gedurende een  bepaalde periode maar één activiteit die kan wordt toegekend en kan worden uitgevoerd door een participant.&#x20;

&#x20;

TODO:

* Groepen uitwisselen kan niet door middel van CareTeam: gebruik hiervoor Organization.
* Uitleggen owner van de Task

<table data-full-width="true"><thead><tr><th>Koppeltaal 1.3.x (FHIR op basis van messages)</th><th> </th><th> </th><th> </th><th> </th><th> Koppeltaal 2.0 (FHIR op basis van resources)</th><th> </th><th> </th></tr></thead><tbody><tr><td>FHIR Resources DSTU1 (v0.0.82)</td><td>Koppeltaal Profile 1.3.x</td><td>Element</td><td>Interactie</td><td>Beschrijving</td><td>FHIR Resource R4 + REST API</td><td>Element</td><td>Beschrijving</td></tr><tr><td>feed</td><td><strong>feed</strong></td><td><br><br></td><td><br><br></td><td>De feed wordt gebruikt om een bericht (interactie) samen te stellen. De MessageHeader resource-instantie is de eerste resource in de feed.</td><td><strong>Bundle</strong></td><td><br><br></td><td>Bundel wordt gebruikt bij search opdrachten en transacties of verzamelen van resources. </td></tr><tr><td>MessageHeader</td><td><strong>MessageHeader</strong></td><td><br><br></td><td><br><br></td><td>Uitwisseling gebeurt op basis van berichten (messages). Zie voor berichttype het element event.code</td><td><br><br></td><td><br><br></td><td>Uitwisseling gebeurt op basis van FHIR resources en HTTP (CRUD) interacties.</td></tr><tr><td><br><br></td><td><br><br></td><td>event.code</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdatePatient</td><td><br><br></td><td>POST/PUT Patient</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdatePractitioner</td><td><br><br></td><td>POST/PUT Practitioner</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdateRelatedPerson</td><td><br><br></td><td>POST/PUT RelatedPerson</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdateActivityDefinition</td><td><br><br></td><td>POST/PUT ActivityDefinition</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdateCarePlan</td><td><br><br></td><td>POST/PUT Task</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>UpdateCarePlanActivityStatus</td><td><br><br></td><td>PUT Task.status</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdateCarePlanActivityResult</td><td><br><br></td><td>-</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td>CreateOrUpdateUserMessage</td><td><br><br></td><td>POST  CommunicationRequest</td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>data.reference</td><td><br><br></td><td><br><br></td><td>ResourceType.meta.versionId en ResourceType.meta.lastUpdated</td><td><br><br></td><td>De waarde van versionId verandert elke keer als de inhoud van de resource verandert en de lastUpdated verandert a.d.h.v. een tijdzonecode.</td></tr><tr><td>CarePlan</td><td><strong>CarePlan</strong></td><td><br><br></td><td><br><br></td><td>Beschrijft de intentie van hoe een of meer behandelaars voornemens zijn zorg te verlenen aan een patiënt gedurende een bepaalde periode. </td><td><strong>Task</strong></td><td><br><br></td><td>Een taak beschrijft een activiteit die kan worden toegekend en kan worden uitgevoerd en houdt de voortgang status van die activiteit bij. </td></tr><tr><td><br><br></td><td><br><br></td><td>Patient</td><td><br><br></td><td>De patiënt die de behandeling ondergaat</td><td><br><br></td><td>for en/of owner </td><td>In Koppeltaal 2.0 wordt van de FHIR Task gebruik gemaakt. Hierin zit een <code>for</code> veld: de begunstigde van de taak. Dit is typisch de Patient. Echter in de FHIR Task zit ook het <code>owner</code> veld: de persoon die verwacht wordt de taak uit te voeren. In het geval van de patient de behandeling ondergaat zou de owner ook de Patient moeten zijn. Dit kan op twee manieren: direct de Patient als owner opgeven, of een CareTeam met als subject de Patient.</td></tr><tr><td><br><br></td><td><br><br></td><td>participant</td><td><br><br></td><td>Iedereen (0 of meer) die betrokken is bij de zorg die dit plan beoogt </td><td><br><br></td><td>owner</td><td>In Koppeltaal 2.0 wordt de Task.owner gebruikt om aan te geven wie de taak moet uitvoeren. Bij Koppeltaal kan dit de Practitioner, Paitent of CareTeam zijn. In het laatste geval kan er een lijst met participanten aan het CareTeam worden toegevoegd.</td></tr><tr><td><br><br></td><td><br><br></td><td>activity</td><td><br><br></td><td>Lijst van activiteiten die onderdeel zijn van dit plan</td><td>Task beschrijft een (hoofd)activiteit</td><td><br><br></td><td>We kunnen hier een hoofdtaak beschrijven met daaronder subtaken of activiteiten. Op deze manier kan men de activiteiten groeperen.</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.identifier</td><td><br><br></td><td>Een identificatie van de activiteit</td><td><br><br></td><td>identifier</td><td>Een taak identificatie</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.defintion</td><td><br><br></td><td>De identificatie van de activityDefinition dat de uitvoering van de activiteit beschrijft</td><td><br><br></td><td>description</td><td>Omschrijving van de taak </td></tr><tr><td><br><br></td><td><br><br></td><td>activity.type</td><td><br><br></td><td>Wordt niet gebruikt in KT 1.3.x</td><td><br><br></td><td>code</td><td>Taak type</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.subactivity.*</td><td><br><br></td><td><br><br></td><td><br><br></td><td>contained</td><td>Subtaak container</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.simple.performer</td><td><br><br></td><td>Iedereen die betrokken is bij deze activiteit en deze mag aanpassen</td><td><br><br></td><td>owner</td><td>In de FHIR Task zit ook het <code>owner</code> veld: de persoon die verwacht wordt de taak uit te voeren.</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.participant</td><td><br><br></td><td>Iedereen die betrokken is bij deze activiteit </td><td><br><br></td><td>owner</td><td>In Koppeltaal 2.0 wordt de Task.owner gebruikt om aan te geven wie de taak moet uitvoeren. Bij Koppeltaal kan dit de Practitioner, Paitent of CareTeam zijn. In het laatste geval kan er een lijst met participanten aan het CareTeam worden toegevoegd.</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.startDate</td><td><br><br></td><td>Startdatum van een activiteit</td><td><br><br></td><td>restriction.period.start</td><td>Beperkingen op startdatum van taak</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.endDate</td><td><br><br></td><td>Einddatum van een activiteit</td><td><br><br></td><td>restriction.period.end</td><td>Eindperiode van taak</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.started</td><td><br><br></td><td>Datum wanneer activiteit gestart is</td><td><br><br></td><td>executionPeriod.start</td><td>Wanneer taak gestart is</td></tr><tr><td><br><br></td><td><br><br></td><td>activity.finished</td><td><br><br></td><td>Datum wanneer activiteit beëindigd is</td><td><br><br></td><td>executionPeriod.end</td><td>Wanneer taak beëindigd is</td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td>Organization</td><td><strong>Organization</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Organization</strong></td><td><br><br></td><td><br><br></td></tr><tr><td>Patient</td><td><strong>Patient</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Patient</strong></td><td><br><br></td><td><br><br></td></tr><tr><td>Practitioner</td><td><strong>Practitioner</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Practitioner</strong></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>PractitionerRole</strong></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td>practitioner</td><td>Behandelaar die in staat is om de vastgestelde dienst voor de organisaties te leveren</td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td>location</td><td>De locatie's waar deze behandelaar zorg verleent</td></tr><tr><td><br><br></td><td><br><br></td><td>organization</td><td><br><br></td><td>De identiteit van de organisatie die de behandelaar vertegenwoordigt / namens wie de behandelaar handelt</td><td><br><br></td><td>organization</td><td>Organisatie waar de rol van de behandelaar beschikbaar is</td></tr><tr><td>RelatedPerson</td><td><strong>RelatedPerson</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>RelatedPerson</strong></td><td><br><br></td><td><br><br></td></tr><tr><td>OperationOutcome</td><td><strong>OperationOutcome</strong></td><td><br><br></td><td><br><br></td><td>OperationOutcome is de uitkomst van een bepaalde interactie. Deze MOETEN NIET omgezet worden naar KT 2.0 omdat KT 1.3.x interacties gebaseerd zijn op berichten en NIET op resources.</td><td><strong>OperationOutcome</strong></td><td><br><br></td><td>OperationOutcome is de uitkomst van een bepaalde (CRUD) interactie op resources. </td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td>Device</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><strong>Application</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Device</strong></td><td><br><br></td><td>Geregistreerde applicatie</td></tr><tr><td><br><br></td><td><br><br></td><td>identifier</td><td><br><br></td><td><br><br></td><td><br><br></td><td>identifier</td><td>identificeert uniek een applicatie</td></tr><tr><td><br><br></td><td><br><br></td><td>type</td><td><br><br></td><td><br><br></td><td><br><br></td><td>type</td><td>soort applicatie</td></tr><tr><td><br><br></td><td><br><br></td><td>url</td><td><br><br></td><td><br><br></td><td><br><br></td><td>url</td><td>netwerk adres om applicatie te bereiken</td></tr><tr><td><br><br></td><td><br><br></td><td>roles</td><td><br><br></td><td><br><br></td><td><br><br></td><td>specialization</td><td>Mogelijkheden van device</td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Endpoint</strong></td><td><br><br></td><td>Technische details van een (Applicatie) endpoint  van een dienstverlener</td></tr><tr><td>Other</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><strong>ActivityDefinition</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>ActivityDefinition</strong></td><td><br><br></td><td>Een ActivityDefinition is een deelbare en bruikbare beschrijving van een activiteit die moet worden uitgevoerd. Het kan worden gebruikt om acties te specificeren die moeten worden ondernomen als onderdeel van een workflow of het kan onafhankelijk worden gebruikt als onderdeel van een catalogus van activiteiten.</td></tr><tr><td><br><br></td><td><br><br></td><td>code</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>application</td><td>Is de applicatie waar deze definitie beschikbaar is</td><td><br><br></td><td><br><br></td><td>Waarschijnlijk hiervoor een extensie voor nodig. Bv: ext.device</td><td>De device is representatie van een geregistreerde applicatie.</td></tr><tr><td><br><br></td><td><br><br></td><td>name</td><td><br><br></td><td><br><br></td><td><br><br></td><td>name</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>activityDefinitionIdentifier</td><td><br><br></td><td><br><br></td><td><br><br></td><td>identifier</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>identifier</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>description</td><td><br><br></td><td><br><br></td><td><br><br></td><td>title</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>type</td><td><br><br></td><td><br><br></td><td><br><br></td><td>topic</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>subActivity.*</td><td><br><br></td><td><br><br></td><td><br><br></td><td>-</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>defaultPerformer</td><td><br><br></td><td><br><br></td><td><br><br></td><td>participant.type en participant.role</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>isActive</td><td><br><br></td><td><br><br></td><td><br><br></td><td>status</td><td>isActive=true match met de status "active"</td></tr><tr><td><br><br></td><td><br><br></td><td>isDomainSpecific</td><td><br><br></td><td><br><br></td><td><br><br></td><td>?</td><td>Uitbreiden met extensie?</td></tr><tr><td><br><br></td><td><br><br></td><td>launchType</td><td><br><br></td><td><br><br></td><td><br><br></td><td>?</td><td>Uitbreiden met extensie?</td></tr><tr><td><br><br></td><td><br><br></td><td>isArchived</td><td><br><br></td><td><br><br></td><td><br><br></td><td>status </td><td>isArchived = true<br>match met de status “retired”</td></tr><tr><td><br><br></td><td><strong>UserMessage</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>CommunicationRequest</strong></td><td><br><br></td><td>Uitwisselingsbericht tussen actoren/personen</td></tr><tr><td><br><br></td><td><br><br></td><td>context</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>code</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>from</td><td><br><br></td><td><br><br></td><td><br><br></td><td>sender</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>to</td><td><br><br></td><td><br><br></td><td><br><br></td><td>recipient</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>messageKind</td><td><br><br></td><td><br><br></td><td><br><br></td><td>category</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>subjectString</td><td><br><br></td><td><br><br></td><td><br><br></td><td>about</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>content</td><td><br><br></td><td><br><br></td><td><br><br></td><td>payload.content</td><td><br><br></td></tr><tr><td><br><br></td><td><strong>CarePlanActivityStatus</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Task</strong></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>activity</td><td><br><br></td><td><br><br></td><td><br><br></td><td>instantiatesCanonical</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>activityStatus</td><td><br><br></td><td><br><br></td><td><br><br></td><td>status</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>subactivity</td><td><br><br></td><td><br><br></td><td><br><br></td><td>contained</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>percentageCompleted</td><td><br><br></td><td><br><br></td><td><br><br></td><td>statusReason</td><td><br><br></td></tr><tr><td><br><br></td><td><strong>CarePlanActivityResult</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td>output</td><td><br><br></td></tr><tr><td><br><br></td><td><strong>CareTeam</strong></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>CareTeam</strong></td><td><br><br></td><td>Behandelteam betrokken bij een behandeling van een patiënt.</td></tr><tr><td><br><br></td><td><br><br></td><td>code</td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>careTeamIdentifier</td><td><br><br></td><td><br><br></td><td><br><br></td><td>identifier</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>status</td><td><br><br></td><td><br><br></td><td><br><br></td><td>status</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>name</td><td><br><br></td><td><br><br></td><td><br><br></td><td>name</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>subject</td><td><br><br></td><td><br><br></td><td><br><br></td><td>subject</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>period</td><td><br><br></td><td><br><br></td><td><br><br></td><td>period</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td>managingOrganization</td><td><br><br></td><td><br><br></td><td><br><br></td><td>managingOrganization</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td>participant.role</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td>participant.member</td><td><br><br></td></tr><tr><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><br><br></td><td><strong>Subscription</strong></td><td><br><br></td><td>Abonnement definiëren op resources die worden aangemaakt of worden bijgewerkt</td></tr></tbody></table>

\
\


### Rationale <a href="#rationale" id="rationale"></a>

\
\


### Implicaties <a href="#implicaties" id="implicaties"></a>

\
\


### Voorbeelden <a href="#voorbeelden" id="voorbeelden"></a>

\
\


### Toepassingsgebied <a href="#toepassingsgebied" id="toepassingsgebied"></a>

\
\


### Onderbouwen <a href="#onderbouwen" id="onderbouwen"></a>

\
\


### Eisen <a href="#eisen" id="eisen"></a>

\
\


### Referenties <a href="#referenties" id="referenties"></a>

{}
